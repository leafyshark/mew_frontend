{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/tlr/Desktop/new/frontend/components/LogOutButton.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation LOG_OUT_MUTATION {\\n    logout {\\n      message\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"./User\";\nimport Router from \"next/router\";\nvar LOG_OUT_MUTATION = gql(_templateObject());\n\nvar LogOutButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LogOutButton, _Component);\n\n  function LogOutButton() {\n    _classCallCheck(this, LogOutButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LogOutButton).apply(this, arguments));\n  }\n\n  _createClass(LogOutButton, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(Mutation, {\n        mutation: LOG_OUT_MUTATION,\n        refetchQueries: [{\n          query: CURRENT_USER_QUERY\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, function (logout, _ref) {\n        var error = _ref.error,\n            loading = _ref.loading,\n            data = _ref.data;\n        if (error) return __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, \"error\");\n        if (loading) return __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, \"loading\");\n        return __jsx(\"a\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n            logout();\n            Router.push({\n              pathname: \"/\"\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, \"Log Out Button\");\n      });\n    }\n  }]);\n\n  return LogOutButton;\n}(Component);\n\nexport default LogOutButton;","map":{"version":3,"sources":["/Users/tlr/Desktop/new/frontend/components/LogOutButton.js"],"names":["React","Component","Mutation","gql","CURRENT_USER_QUERY","Router","LOG_OUT_MUTATION","LogOutButton","query","logout","error","loading","data","e","preventDefault","push","pathname"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,kBAAT,QAAmC,QAAnC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,IAAMC,gBAAgB,GAAGH,GAAH,mBAAtB;;IAQMI,Y;;;;;;;;;;;;;6BACK;AACP,aACE,MAAC,QAAD;AACE,QAAA,QAAQ,EAAED,gBADZ;AAEE,QAAA,cAAc,EAAE,CAAC;AAAEE,UAAAA,KAAK,EAAEJ;AAAT,SAAD,CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,UAACK,MAAD,QAAsC;AAAA,YAA3BC,KAA2B,QAA3BA,KAA2B;AAAA,YAApBC,OAAoB,QAApBA,OAAoB;AAAA,YAAXC,IAAW,QAAXA,IAAW;AACrC,YAAIF,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACX,YAAIC,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACb,eACE;AACE,UAAA,OAAO,EAAE,iBAAAE,CAAC,EAAI;AACZA,YAAAA,CAAC,CAACC,cAAF;AACAL,YAAAA,MAAM;AACNJ,YAAAA,MAAM,CAACU,IAAP,CAAY;AAAEC,cAAAA,QAAQ,EAAE;AAAZ,aAAZ;AACD,WALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF;AAWD,OAlBH,CADF;AAsBD;;;;EAxBwBf,S;;AA2B3B,eAAeM,YAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"./User\";\nimport Router from \"next/router\";\n\nconst LOG_OUT_MUTATION = gql`\n  mutation LOG_OUT_MUTATION {\n    logout {\n      message\n    }\n  }\n`;\n\nclass LogOutButton extends Component {\n  render() {\n    return (\n      <Mutation\n        mutation={LOG_OUT_MUTATION}\n        refetchQueries={[{ query: CURRENT_USER_QUERY }]}\n      >\n        {(logout, { error, loading, data }) => {\n          if (error) return <p>error</p>;\n          if (loading) return <p>loading</p>;\n          return (\n            <a\n              onClick={e => {\n                e.preventDefault();\n                logout();\n                Router.push({ pathname: \"/\" });\n              }}\n            >\n              Log Out Button\n            </a>\n          );\n        }}\n      </Mutation>\n    );\n  }\n}\n\nexport default LogOutButton;\n"]},"metadata":{},"sourceType":"module"}