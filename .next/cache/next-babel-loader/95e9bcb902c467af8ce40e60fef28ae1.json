{"ast":null,"code":"var _jsxFileName = \"/Users/tlr/Desktop/new/frontend/components/Auth.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { Query, Mutation } from \"react-apollo\";\nimport { AnimatedFormStyles } from \"../components/styles/FormStyles\";\nimport Router from \"next/router\";\nimport gql from \"graphql-tag\";\nimport Error from \"../components/Error\";\nimport Success from \"../components/Success\";\nconst SIGNIN_MUTATION = gql`\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      id\n      email\n    }\n  }\n`;\nconst SIGNUP_MUTATION = gql`\n  mutation SIGNUP_MUTATION(\n    $email: String!\n    $password: String!\n    $repeatPassword: String!\n  ) {\n    signup(\n      email: $email\n      password: $password\n      repeatPassword: $repeatPassword\n    ) {\n      id\n      email\n    }\n  }\n`;\nconst RESET_PASSWORD_MUTATION = gql`\n  mutation RESET_PASSWORD_MUTATION($email: String!) {\n    requestReset(email: $email) {\n      message\n    }\n  }\n`;\n\nconst Form = ({\n  option,\n  email,\n  password,\n  repeatPassword,\n  successMessage,\n  setEmail,\n  setPassword,\n  setRepeatPassword,\n  setSuccessMessage\n}) => {\n  return __jsx(Mutation, {\n    mutation: option === 1 ? SIGNIN_MUTATION : option === 2 ? SIGNUP_MUTATION : RESET_PASSWORD_MUTATION,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, (sign, {\n    error,\n    loading,\n    called\n  }) => __jsx(\"form\", {\n    className: \"account-form\",\n    method: \"POST\",\n    onSubmit: async e => {\n      e.preventDefault();\n      const res = await sign({\n        variables: {\n          email,\n          password,\n          repeatPassword\n        }\n      });\n\n      if (option === 1) {\n        Router.push({\n          pathname: \"/app\"\n        });\n      } else if (option === 2) {\n        Router.push({\n          pathname: \"/app\"\n        });\n      } else {\n        setSuccessMessage(res.data.requestReset.message);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"account-form-fields \" + (option === 1 ? \"sign-in\" : option === 2 ? \"sign-up\" : \"forgot\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    id: \"email\",\n    name: \"email\",\n    type: \"email\",\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"Email Address\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    id: \"password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: e => setPassword(e.target.value),\n    required: option === 1 || option === 2 ? true : false,\n    disabled: option === 3 ? true : false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    id: \"repeat-password\",\n    name: \"repeat-password\",\n    type: \"password\",\n    placeholder: \"Repeat password\",\n    onChange: e => setRepeatPassword(e.target.value),\n    required: option === 2 ? true : false,\n    disabled: option === 1 || option === 3 ? true : false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    disabled: loading,\n    \"aria-busy\": loading,\n    className: \"btn-submit-form\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, option === 1 ? \"Sign in\" : option === 2 ? \"Sign up\" : \"Reset password\"), __jsx(Error, {\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }), option === 3 && !error && !loading && called && __jsx(Success, {\n    message: successMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  })));\n};\n\nconst Auth = () => {\n  const [option, setOption] = React.useState(1);\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [repeatPassword, setRepeatPassword] = React.useState(\"\");\n  const [successMessage, setSuccessMessage] = React.useState(\"\");\n  return __jsx(AnimatedFormStyles, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(\"ul\", {\n    className: \"options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: option === 1 ? \"active\" : \"\",\n    onClick: () => setOption(1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Sign in\"), __jsx(\"li\", {\n    className: option === 2 ? \"active\" : \"\",\n    onClick: () => setOption(2),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Sign up\"), __jsx(\"li\", {\n    className: option === 3 ? \"active\" : \"\",\n    onClick: () => setOption(3),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Forgot\"), __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: \"/logo.svg\",\n    alt: \"\",\n    width: \"70\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }))), __jsx(Form, {\n    option: option,\n    email: email,\n    setEmail: setEmail,\n    password: password,\n    setPassword: setPassword,\n    repeatPassword: repeatPassword,\n    setRepeatPassword: setRepeatPassword,\n    successMessage: successMessage,\n    setSuccessMessage: setSuccessMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }));\n};\n\nexport default Auth;","map":{"version":3,"sources":["/Users/tlr/Desktop/new/frontend/components/Auth.js"],"names":["React","Component","Query","Mutation","AnimatedFormStyles","Router","gql","Error","Success","SIGNIN_MUTATION","SIGNUP_MUTATION","RESET_PASSWORD_MUTATION","Form","option","email","password","repeatPassword","successMessage","setEmail","setPassword","setRepeatPassword","setSuccessMessage","sign","error","loading","called","e","preventDefault","res","variables","push","pathname","data","requestReset","message","target","value","Auth","setOption","useState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Query, Mutation } from \"react-apollo\";\nimport { AnimatedFormStyles } from \"../components/styles/FormStyles\";\nimport Router from \"next/router\";\nimport gql from \"graphql-tag\";\nimport Error from \"../components/Error\";\nimport Success from \"../components/Success\";\n\nconst SIGNIN_MUTATION = gql`\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      id\n      email\n    }\n  }\n`;\n\nconst SIGNUP_MUTATION = gql`\n  mutation SIGNUP_MUTATION(\n    $email: String!\n    $password: String!\n    $repeatPassword: String!\n  ) {\n    signup(\n      email: $email\n      password: $password\n      repeatPassword: $repeatPassword\n    ) {\n      id\n      email\n    }\n  }\n`;\n\nconst RESET_PASSWORD_MUTATION = gql`\n  mutation RESET_PASSWORD_MUTATION($email: String!) {\n    requestReset(email: $email) {\n      message\n    }\n  }\n`;\n\nconst Form = ({\n  option,\n  email,\n  password,\n  repeatPassword,\n  successMessage,\n  setEmail,\n  setPassword,\n  setRepeatPassword,\n  setSuccessMessage\n}) => {\n  return (\n    <Mutation\n      mutation={\n        option === 1\n          ? SIGNIN_MUTATION\n          : option === 2\n          ? SIGNUP_MUTATION\n          : RESET_PASSWORD_MUTATION\n      }\n    >\n      {(sign, { error, loading, called }) => (\n        <form\n          className=\"account-form\"\n          method=\"POST\"\n          onSubmit={async e => {\n            e.preventDefault();\n            const res = await sign({\n              variables: { email, password, repeatPassword }\n            });\n\n            if (option === 1) {\n              Router.push({\n                pathname: \"/app\"\n              });\n            } else if (option === 2) {\n              Router.push({\n                pathname: \"/app\"\n              });\n            } else {\n              setSuccessMessage(res.data.requestReset.message);\n            }\n          }}\n        >\n          <div\n            className={\n              \"account-form-fields \" +\n              (option === 1 ? \"sign-in\" : option === 2 ? \"sign-up\" : \"forgot\")\n            }\n          >\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              onChange={e => setEmail(e.target.value)}\n              placeholder=\"Email Address\"\n              required\n            />\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => setPassword(e.target.value)}\n              required={option === 1 || option === 2 ? true : false}\n              disabled={option === 3 ? true : false}\n            />\n            <input\n              id=\"repeat-password\"\n              name=\"repeat-password\"\n              type=\"password\"\n              placeholder=\"Repeat password\"\n              onChange={e => setRepeatPassword(e.target.value)}\n              required={option === 2 ? true : false}\n              disabled={option === 1 || option === 3 ? true : false}\n            />\n          </div>\n          <button\n            disabled={loading}\n            aria-busy={loading}\n            className=\"btn-submit-form\"\n            type=\"submit\"\n          >\n            {option === 1\n              ? \"Sign in\"\n              : option === 2\n              ? \"Sign up\"\n              : \"Reset password\"}\n          </button>\n          <Error error={error} />\n          {option === 3 && !error && !loading && called && (\n            <Success message={successMessage}></Success>\n          )}\n        </form>\n      )}\n    </Mutation>\n  );\n};\n\nconst Auth = () => {\n  const [option, setOption] = React.useState(1);\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [repeatPassword, setRepeatPassword] = React.useState(\"\");\n  const [successMessage, setSuccessMessage] = React.useState(\"\");\n\n  return (\n    <AnimatedFormStyles>\n      <ul className=\"options\">\n        <li\n          className={option === 1 ? \"active\" : \"\"}\n          onClick={() => setOption(1)}\n        >\n          Sign in\n        </li>\n        <li\n          className={option === 2 ? \"active\" : \"\"}\n          onClick={() => setOption(2)}\n        >\n          Sign up\n        </li>\n        <li\n          className={option === 3 ? \"active\" : \"\"}\n          onClick={() => setOption(3)}\n        >\n          Forgot\n        </li>\n        <li>\n          <img src=\"/logo.svg\" alt=\"\" width=\"70\" />\n        </li>\n      </ul>\n      <Form\n        option={option}\n        email={email}\n        setEmail={setEmail}\n        password={password}\n        setPassword={setPassword}\n        repeatPassword={repeatPassword}\n        setRepeatPassword={setRepeatPassword}\n        successMessage={successMessage}\n        setSuccessMessage={setSuccessMessage}\n      ></Form>\n    </AnimatedFormStyles>\n  );\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}